import{_ as k,u as I,h as L,r as i,o as U,a as C,g as j,b as t,w as l,d as S,f as v,t as f,i as q,p as B,j as T,k as V}from"./index-19ccf72e.js";import{u as F}from"./scopeId-82889c0b.js";import{s as M}from"./svgLogo-35eaa81c.js";import{_ as N}from"./uiSnackbar-83f24c28.js";import{V as R,a as _}from"./VTextField-a4b8d249.js";import{V as $,a as z}from"./VCard-8505de14.js";import{V as g}from"./VBtn-5ede0664.js";import{b as G}from"./index-87ff2459.js";import"./forwardRefs-a92d3132.js";import"./VInput-05a8c9ad.js";import"./VAvatar-663735a8.js";import"./tag-3253c0b0.js";const x=n=>(B("data-v-922ce556"),n=n(),T(),n),A={class:"background pa-8 h-screen d-flex flex-column justify-center align-center"},D=x(()=>V("div",{class:"text-subtitle-1 text-medium-emphasis"},"Почта",-1)),E=x(()=>V("div",{class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"}," Пароль ",-1)),W={__name:"LoginView",setup(n){const d=I(),y=L(),r=i(!1),a=F(),p=i(""),c=i(""),o=i(""),u=i(!1),b=()=>{o.value=o.value==="register"?"login":"register",d.push({query:{type:o.value}})},h=async(m,e)=>{o.value==="register"?await a.registerUser(m,e):o.value==="login"&&await a.loginUser(m,e),a.isLoggedIn.value?d.push("/jobs"):u.value=!0},w=async()=>{await a.loginWithGoogle(),a.isLoggedIn.value?d.push("/jobs"):u.value=!0};return U(()=>{a.logoutUser(),console.log(a.isLoggedIn.value),o.value=y.query.type}),(m,e)=>(C(),j("div",A,[t(M),t(R,{onSubmit:e[4]||(e[4]=S(s=>h(p.value,c.value),["prevent"]))},{default:l(()=>[t($,{class:"mx-auto pa-8 mt-8 w-100",elevation:"8","min-width":"300","max-width":"448",rounded:"lg"},{default:l(()=>[D,t(_,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),density:"compact",placeholder:"Введите почту","prepend-inner-icon":"mdi-email-outline",variant:"outlined",required:""},null,8,["modelValue"]),E,t(_,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),"append-inner-icon":r.value?"mdi-eye-off":"mdi-eye",type:r.value?"text":"password",density:"compact",placeholder:"Введите пароль","prepend-inner-icon":"mdi-lock-outline",variant:"outlined",required:"","onClick:appendInner":e[2]||(e[2]=s=>r.value=!r.value)},null,8,["modelValue","append-inner-icon","type"]),t(g,{block:"",type:"submit",class:"mb-2",size:"large",variant:"tonal"},{default:l(()=>[v(f(o.value==="register"?"Зарегистрироваться":"Войти"),1)]),_:1}),t(g,{block:"",class:"mb-2",variant:"tonal",onClick:w},{default:l(()=>[v(" Войти через Google ")]),_:1}),t(z,{class:"text-center"},{default:l(()=>[t(g,{class:"text-decoration-none",variant:"text",size:"small",onClick:b},{default:l(()=>[v(f(o.value!=="register"?"Зарегистрироваться":"Войти")+" ",1),t(G,{icon:"mdi-chevron-right"})]),_:1})]),_:1})]),_:1}),t(N,{color:"red",modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=s=>u.value=s),message:q(a).errorMsg.value},null,8,["modelValue","message"])]),_:1})]))}},oe=k(W,[["__scopeId","data-v-922ce556"]]);export{oe as default};
