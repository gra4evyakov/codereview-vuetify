import{q as M,s as G,u as E,i as g,x as U,f as t,d as V,l as W,v as ee,I as K,E as Q,y as ye,z as be,A as xe,B as Ve,C as _e,D as pe,G as Ce,F as D,H as q,J as he,K as ke,L as Ie,M as Fe,N as Pe,O as Se,P as ne,Q as we,_ as Be,R as Le,j as Re,o as Te,c as $e,w as B,S as Ae,g as Y,t as ae,T as De,p as Me,m as Ee,b as se}from"./index-d2757bf8.js";import{f as re,n as Ue,a as Ne,s as Oe,u as je}from"./forwardRefs-8c365abf.js";import{s as ze}from"./svgLogo-fdbecbdc.js";import{_ as qe}from"./uiSnackbar-cf18b91a.js";import{m as Ge,b as We,M as Xe,c as He,d as Je,u as Ke,e as Qe,f as Ye,g as Ze,L as et,h as tt,I as lt,i as nt,V as at,j as it,k as ot}from"./group-fda8f8c5.js";import{m as st,c as rt,V as ut,a as dt,u as ue,b as ct,d as ft,e as ie}from"./VInput-09e9d91f.js";import{V as Z}from"./VBtn-7f1478f6.js";import"./tag-27d9cb42.js";const vt=M({...G(),...st()},"VForm"),mt=E()({name:"VForm",props:vt(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,d){let{slots:n,emit:r}=d;const l=rt(e),o=g();function s(c){c.preventDefault(),l.reset()}function h(c){const v=c,f=l.validate();v.then=f.then.bind(f),v.catch=f.catch.bind(f),v.finally=f.finally.bind(f),r("submit",v),v.defaultPrevented||f.then(_=>{var u;let{valid:a}=_;a&&((u=o.value)==null||u.submit())}),v.preventDefault()}return U(()=>{var c;return t("form",{ref:o,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:s,onSubmit:h},[(c=n.default)==null?void 0:c.call(n,l)])}),re(l,o)}});const gt=M({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...G(),...Ge({transition:{component:We}})},"VCounter"),yt=E()({name:"VCounter",functional:!0,props:gt(),setup(e,d){let{slots:n}=d;const r=V(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return U(()=>t(Xe,{transition:e.transition},{default:()=>[W(t("div",{class:["v-counter",e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[ee,e.active]])]})),{}}});const bt=M({floating:Boolean,...G()},"VFieldLabel"),z=E()({name:"VFieldLabel",props:bt(),setup(e,d){let{slots:n}=d;return U(()=>t(ut,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),xt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],de=M({appendInnerIcon:K,bgColor:String,clearable:Boolean,clearIcon:{type:K,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:K,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>xt.includes(e)},"onClick:clear":Q(),"onClick:appendInner":Q(),"onClick:prependInner":Q(),...G(),...He(),...Je(),...ye()},"VField"),ce=E()({name:"VField",inheritAttrs:!1,props:{id:String,...dt(),...de()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,d){let{attrs:n,emit:r,slots:l}=d;const{themeClasses:o}=be(e),{loaderClasses:s}=Ke(e),{focusClasses:h,isFocused:c,focus:v,blur:f}=ue(e),{InputIcon:_}=ct(e),{roundedClasses:a}=Qe(e),{rtlClasses:u}=xe(),S=V(()=>e.dirty||e.active),k=V(()=>!e.singleLine&&!!(e.label||l.label)),X=Ve(),y=V(()=>e.id||`input-${X}`),H=V(()=>`${y.value}-messages`),N=g(),L=g(),O=g(),i=V(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:p,backgroundColorStyles:C}=Ye(_e(e,"bgColor")),{textColorClasses:I,textColorStyles:te}=Ze(V(()=>e.error||e.disabled?void 0:S.value&&c.value?e.color:e.baseColor));pe(S,b=>{if(k.value){const m=N.value.$el,F=L.value.$el;requestAnimationFrame(()=>{const P=Ue(m),x=F.getBoundingClientRect(),T=x.x-P.x,$=x.y-P.y-(P.height/2-x.height/2),w=x.width/.75,A=Math.abs(w-P.width)>1?{maxWidth:Ce(w)}:void 0,j=getComputedStyle(m),le=getComputedStyle(F),ve=parseFloat(j.transitionDuration)*1e3||150,me=parseFloat(le.getPropertyValue("--v-field-label-scale")),ge=le.getPropertyValue("color");m.style.visibility="visible",F.style.visibility="hidden",Ne(m,{transform:`translate(${T}px, ${$}px) scale(${me})`,color:ge,...A},{duration:ve,easing:Oe,direction:b?"normal":"reverse"}).finished.then(()=>{m.style.removeProperty("visibility"),F.style.removeProperty("visibility")})})}},{flush:"post"});const R=V(()=>({isActive:S,isFocused:c,controlRef:O,blur:f,focus:v}));function J(b){b.target!==document.activeElement&&b.preventDefault()}return U(()=>{var T,$,w;const b=e.variant==="outlined",m=l["prepend-inner"]||e.prependInnerIcon,F=!!(e.clearable||l.clear),P=!!(l["append-inner"]||e.appendInnerIcon||F),x=l.label?l.label({...R.value,label:e.label,props:{for:y.value}}):e.label;return t("div",q({class:["v-field",{"v-field--active":S.value,"v-field--appended":P,"v-field--center-affix":e.centerAffix??!i.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":m,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!x,[`v-field--variant-${e.variant}`]:!0},o.value,p.value,h.value,s.value,a.value,u.value,e.class],style:[C.value,te.value,e.style],onClick:J},n),[t("div",{class:"v-field__overlay"},null),t(et,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),m&&t("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&t(_,{key:"prepend-icon",name:"prependInner"},null),(T=l["prepend-inner"])==null?void 0:T.call(l,R.value)]),t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&k.value&&t(z,{key:"floating-label",ref:L,class:[I.value],floating:!0,for:y.value},{default:()=>[x]}),t(z,{ref:N,for:y.value},{default:()=>[x]}),($=l.default)==null?void 0:$.call(l,{...R.value,props:{id:y.value,class:"v-field__input","aria-describedby":H.value},focus:v,blur:f})]),F&&t(tt,{key:"clear"},{default:()=>[W(t("div",{class:"v-field__clearable",onMousedown:A=>{A.preventDefault(),A.stopPropagation()}},[l.clear?l.clear():t(_,{name:"clear"},null)]),[[ee,e.dirty]])]}),P&&t("div",{key:"append",class:"v-field__append-inner"},[(w=l["append-inner"])==null?void 0:w.call(l,R.value),e.appendInnerIcon&&t(_,{key:"append-icon",name:"appendInner"},null)]),t("div",{class:["v-field__outline",I.value]},[b&&t(D,null,[t("div",{class:"v-field__outline__start"},null),k.value&&t("div",{class:"v-field__outline__notch"},[t(z,{ref:L,floating:!0,for:y.value},{default:()=>[x]})]),t("div",{class:"v-field__outline__end"},null)]),i.value&&k.value&&t(z,{ref:L,floating:!0,for:y.value},{default:()=>[x]})])])}),{controlRef:O}}});function Vt(e){const d=Object.keys(ce.props).filter(n=>!he(n)&&n!=="class"&&n!=="style");return ke(e,d)}const _t=["color","file","time","date","datetime-local","week","month"],pt=M({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...ft(),...de()},"VTextField"),oe=E()({name:"VTextField",directives:{Intersect:lt},inheritAttrs:!1,props:pt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,d){let{attrs:n,emit:r,slots:l}=d;const o=Ie(e,"modelValue"),{isFocused:s,focus:h,blur:c}=ue(e),v=V(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value??"").toString().length),f=V(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),_=V(()=>["plain","underlined"].includes(e.variant));function a(i,p){var C,I;!e.autofocus||!i||(I=(C=p[0].target)==null?void 0:C.focus)==null||I.call(C)}const u=g(),S=g(),k=g(),X=V(()=>_t.includes(e.type)||e.persistentPlaceholder||s.value||e.active);function y(){var i;k.value!==document.activeElement&&((i=k.value)==null||i.focus()),s.value||h()}function H(i){r("mousedown:control",i),i.target!==k.value&&(y(),i.preventDefault())}function N(i){y(),r("click:control",i)}function L(i){i.stopPropagation(),y(),ne(()=>{o.value=null,we(e["onClick:clear"],i)})}function O(i){var C;const p=i.target;if(o.value=p.value,(C=e.modelModifiers)!=null&&C.trim&&["text","search","password","tel","url"].includes(e.type)){const I=[p.selectionStart,p.selectionEnd];ne(()=>{p.selectionStart=I[0],p.selectionEnd=I[1]})}}return U(()=>{const i=!!(l.counter||e.counter||e.counterValue),p=!!(i||l.details),[C,I]=Fe(n),[{modelValue:te,...R}]=ie.filterProps(e),[J]=Vt(e);return t(ie,q({ref:u,modelValue:o.value,"onUpdate:modelValue":b=>o.value=b,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(e.variant)},e.class],style:e.style},C,R,{centerAffix:!_.value,focused:s.value}),{...l,default:b=>{let{id:m,isDisabled:F,isDirty:P,isReadonly:x,isValid:T}=b;return t(ce,q({ref:S,onMousedown:H,onClick:N,"onClick:clear":L,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},J,{id:m.value,active:X.value||P.value,dirty:P.value||e.dirty,disabled:F.value,focused:s.value,error:T.value===!1}),{...l,default:$=>{let{props:{class:w,...A}}=$;const j=W(t("input",q({ref:k,value:o.value,onInput:O,autofocus:e.autofocus,readonly:x.value,disabled:F.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:y,onBlur:c},A,I),null),[[Pe("intersect"),{handler:a},null,{once:!0}]]);return t(D,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[t("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t("div",{class:w,"data-no-activator":""},[l.default?t(D,null,[l.default(),j]):Se(j)]),e.suffix&&t("span",{class:"v-text-field__suffix"},[t("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:p?b=>{var m;return t(D,null,[(m=l.details)==null?void 0:m.call(l,b),i&&t(D,null,[t("span",null,null),t(yt,{active:e.persistentCounter||s.value,value:v.value,max:f.value},l.counter)])])}:void 0})}),re({},u,S,k)}}),fe=e=>(Me("data-v-09d7add4"),e=e(),Ee(),e),Ct={class:"background pa-8 h-screen d-flex flex-column justify-center align-center"},ht=fe(()=>se("div",{class:"text-subtitle-1 text-medium-emphasis"}," Почта ",-1)),kt=fe(()=>se("div",{class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"}," Пароль ",-1)),It={__name:"LoginView",setup(e){const d=Le(),n=g(!1),r=je(),l=g(""),o=g(""),s=g("login"),h=g(!1),c=g(!1),v=async(_,a)=>{s.value==="register"?await r.registerUser(_,a):s.value==="login"&&await r.loginUser(_,a),r.isLoggedIn.value?d.back():h.value=!0},f=async()=>{await r.loginWithGoogle(),r.isLoggedIn.value?d.back():h.value=!0};return Re(()=>{r.logoutUser(),c.value=!0}),(_,a)=>(Te(),$e("div",Ct,[t(ze),t(nt,null,{default:B(()=>[W(t(mt,{onSubmit:a[5]||(a[5]=Ae(u=>v(l.value,o.value),["prevent"]))},{default:B(()=>[t(at,{class:"mx-auto pa-8 mt-8 w-100",elevation:"8","min-width":"323","max-width":"600",rounded:"lg"},{default:B(()=>[ht,t(oe,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=u=>l.value=u),density:"compact",placeholder:"Введите почту","prepend-inner-icon":"mdi-email-outline",variant:"outlined",required:""},null,8,["modelValue"]),kt,t(oe,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=u=>o.value=u),"append-inner-icon":n.value?"mdi-eye-off":"mdi-eye",type:n.value?"text":"password",density:"compact",placeholder:"Введите пароль","prepend-inner-icon":"mdi-lock-outline",variant:"outlined",required:"","onClick:appendInner":a[2]||(a[2]=u=>n.value=!n.value)},null,8,["modelValue","append-inner-icon","type"]),t(Z,{block:"",type:"submit",class:"mb-2",size:"large",variant:"tonal"},{default:B(()=>[Y(ae(s.value==="register"?"Зарегистрироваться":"Войти"),1)]),_:1}),t(Z,{class:"google-btn mb-2",onClick:f,size:"large",block:""},{default:B(()=>[Y(" Войти через Google ")]),_:1}),t(it,{class:"text-center"},{default:B(()=>[t(Z,{class:"text-decoration-none",variant:"text",size:"small",onClick:a[3]||(a[3]=u=>s.value==="login"?s.value="register":s.value="login")},{default:B(()=>[Y(ae(s.value!=="register"?"Зарегистрироваться":"Войти")+" ",1),t(ot,{icon:"mdi-chevron-right"})]),_:1})]),_:1})]),_:1}),t(qe,{color:"red",modelValue:h.value,"onUpdate:modelValue":a[4]||(a[4]=u=>h.value=u),message:De(r).errorMsg.value},null,8,["modelValue","message"])]),_:1},512),[[ee,c.value]])]),_:1})]))}},$t=Be(It,[["__scopeId","data-v-09d7add4"]]);export{$t as default};
