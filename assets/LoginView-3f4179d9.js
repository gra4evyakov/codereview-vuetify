import{k as M,m as G,l as E,r as y,u as U,a as t,n as V,i as W,v as ee,I as K,E as Q,q as ye,s as be,x as xe,y as pe,z as Ve,A as _e,B as he,F as D,C as z,D as Ce,G as ke,H as Ie,J as Fe,K as Pe,L as Se,M as ne,N as we,_ as Be,O as Le,P as Re,d as Te,o as $e,f as Ae,w as B,Q as De,b as Y,t as ae,R as Me,p as Ee,j as Ue,g as se}from"./index-aeb0c13a.js";import{u as Ne}from"./scopeId-f5716b2b.js";import{s as je}from"./svgLogo-e3ff21d1.js";import{f as re,n as Oe,a as qe,s as ze,_ as Ge}from"./uiSnackbar-a14bcc91.js";import{m as We,a as Xe,M as He,b as Je,c as Ke,u as Qe,d as Ye,e as Ze,f as et,L as tt,g as lt,I as nt,h as at,i as it}from"./index-0090429c.js";import{m as ot,c as st,V as rt,a as ut,u as ue,b as dt,d as ct,e as ie}from"./VInput-be146aa0.js";import{a as ft,b as vt}from"./VCard-8282c4f2.js";import{V as Z}from"./VBtn-2d05b758.js";import"./lazy-d84b8ad8.js";import"./tag-214631e7.js";const mt=M({...G(),...ot()},"VForm"),gt=E()({name:"VForm",props:mt(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,u){let{slots:i,emit:v}=u;const l=st(e),o=y();function m(s){s.preventDefault(),l.reset()}function d(s){const c=s,f=l.validate();c.then=f.then.bind(f),c.catch=f.catch.bind(f),c.finally=f.finally.bind(f),v("submit",c),c.defaultPrevented||f.then(P=>{var n;let{valid:S}=P;S&&((n=o.value)==null||n.submit())}),c.preventDefault()}return U(()=>{var s;return t("form",{ref:o,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:m,onSubmit:d},[(s=i.default)==null?void 0:s.call(i,l)])}),re(l,o)}});const yt=M({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...G(),...We({transition:{component:Xe}})},"VCounter"),bt=E()({name:"VCounter",functional:!0,props:yt(),setup(e,u){let{slots:i}=u;const v=V(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return U(()=>t(He,{transition:e.transition},{default:()=>[W(t("div",{class:["v-counter",e.class],style:e.style},[i.default?i.default({counter:v.value,max:e.max,value:e.value}):v.value]),[[ee,e.active]])]})),{}}});const xt=M({floating:Boolean,...G()},"VFieldLabel"),q=E()({name:"VFieldLabel",props:xt(),setup(e,u){let{slots:i}=u;return U(()=>t(rt,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},i)),{}}}),pt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],de=M({appendInnerIcon:K,bgColor:String,clearable:Boolean,clearIcon:{type:K,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:K,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>pt.includes(e)},"onClick:clear":Q(),"onClick:appendInner":Q(),"onClick:prependInner":Q(),...G(),...Je(),...Ke(),...ye()},"VField"),ce=E()({name:"VField",inheritAttrs:!1,props:{id:String,...ut(),...de()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,u){let{attrs:i,emit:v,slots:l}=u;const{themeClasses:o}=be(e),{loaderClasses:m}=Qe(e),{focusClasses:d,isFocused:s,focus:c,blur:f}=ue(e),{InputIcon:P}=dt(e),{roundedClasses:S}=Ye(e),{rtlClasses:n}=xe(),r=V(()=>e.dirty||e.active),C=V(()=>!e.singleLine&&!!(e.label||l.label)),X=pe(),b=V(()=>e.id||`input-${X}`),H=V(()=>`${b.value}-messages`),N=y(),L=y(),j=y(),a=V(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:_,backgroundColorStyles:h}=Ze(Ve(e,"bgColor")),{textColorClasses:k,textColorStyles:te}=et(V(()=>e.error||e.disabled?void 0:r.value&&s.value?e.color:e.baseColor));_e(r,x=>{if(C.value){const g=N.value.$el,I=L.value.$el;requestAnimationFrame(()=>{const F=Oe(g),p=I.getBoundingClientRect(),T=p.x-F.x,$=p.y-F.y-(F.height/2-p.height/2),w=p.width/.75,A=Math.abs(w-F.width)>1?{maxWidth:he(w)}:void 0,O=getComputedStyle(g),le=getComputedStyle(I),ve=parseFloat(O.transitionDuration)*1e3||150,me=parseFloat(le.getPropertyValue("--v-field-label-scale")),ge=le.getPropertyValue("color");g.style.visibility="visible",I.style.visibility="hidden",qe(g,{transform:`translate(${T}px, ${$}px) scale(${me})`,color:ge,...A},{duration:ve,easing:ze,direction:x?"normal":"reverse"}).finished.then(()=>{g.style.removeProperty("visibility"),I.style.removeProperty("visibility")})})}},{flush:"post"});const R=V(()=>({isActive:r,isFocused:s,controlRef:j,blur:f,focus:c}));function J(x){x.target!==document.activeElement&&x.preventDefault()}return U(()=>{var T,$,w;const x=e.variant==="outlined",g=l["prepend-inner"]||e.prependInnerIcon,I=!!(e.clearable||l.clear),F=!!(l["append-inner"]||e.appendInnerIcon||I),p=l.label?l.label({...R.value,label:e.label,props:{for:b.value}}):e.label;return t("div",z({class:["v-field",{"v-field--active":r.value,"v-field--appended":F,"v-field--center-affix":e.centerAffix??!a.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":g,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!p,[`v-field--variant-${e.variant}`]:!0},o.value,_.value,d.value,m.value,S.value,n.value,e.class],style:[h.value,te.value,e.style],onClick:J},i),[t("div",{class:"v-field__overlay"},null),t(tt,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),g&&t("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&t(P,{key:"prepend-icon",name:"prependInner"},null),(T=l["prepend-inner"])==null?void 0:T.call(l,R.value)]),t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&C.value&&t(q,{key:"floating-label",ref:L,class:[k.value],floating:!0,for:b.value},{default:()=>[p]}),t(q,{ref:N,for:b.value},{default:()=>[p]}),($=l.default)==null?void 0:$.call(l,{...R.value,props:{id:b.value,class:"v-field__input","aria-describedby":H.value},focus:c,blur:f})]),I&&t(lt,{key:"clear"},{default:()=>[W(t("div",{class:"v-field__clearable",onMousedown:A=>{A.preventDefault(),A.stopPropagation()}},[l.clear?l.clear():t(P,{name:"clear"},null)]),[[ee,e.dirty]])]}),F&&t("div",{key:"append",class:"v-field__append-inner"},[(w=l["append-inner"])==null?void 0:w.call(l,R.value),e.appendInnerIcon&&t(P,{key:"append-icon",name:"appendInner"},null)]),t("div",{class:["v-field__outline",k.value]},[x&&t(D,null,[t("div",{class:"v-field__outline__start"},null),C.value&&t("div",{class:"v-field__outline__notch"},[t(q,{ref:L,floating:!0,for:b.value},{default:()=>[p]})]),t("div",{class:"v-field__outline__end"},null)]),a.value&&C.value&&t(q,{ref:L,floating:!0,for:b.value},{default:()=>[p]})])])}),{controlRef:j}}});function Vt(e){const u=Object.keys(ce.props).filter(i=>!Ce(i)&&i!=="class"&&i!=="style");return ke(e,u)}const _t=["color","file","time","date","datetime-local","week","month"],ht=M({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...ct(),...de()},"VTextField"),oe=E()({name:"VTextField",directives:{Intersect:nt},inheritAttrs:!1,props:ht(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,u){let{attrs:i,emit:v,slots:l}=u;const o=Ie(e,"modelValue"),{isFocused:m,focus:d,blur:s}=ue(e),c=V(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value??"").toString().length),f=V(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),P=V(()=>["plain","underlined"].includes(e.variant));function S(a,_){var h,k;!e.autofocus||!a||(k=(h=_[0].target)==null?void 0:h.focus)==null||k.call(h)}const n=y(),r=y(),C=y(),X=V(()=>_t.includes(e.type)||e.persistentPlaceholder||m.value||e.active);function b(){var a;C.value!==document.activeElement&&((a=C.value)==null||a.focus()),m.value||d()}function H(a){v("mousedown:control",a),a.target!==C.value&&(b(),a.preventDefault())}function N(a){b(),v("click:control",a)}function L(a){a.stopPropagation(),b(),ne(()=>{o.value=null,we(e["onClick:clear"],a)})}function j(a){var h;const _=a.target;if(o.value=_.value,(h=e.modelModifiers)!=null&&h.trim&&["text","search","password","tel","url"].includes(e.type)){const k=[_.selectionStart,_.selectionEnd];ne(()=>{_.selectionStart=k[0],_.selectionEnd=k[1]})}}return U(()=>{const a=!!(l.counter||e.counter||e.counterValue),_=!!(a||l.details),[h,k]=Fe(i),[{modelValue:te,...R}]=ie.filterProps(e),[J]=Vt(e);return t(ie,z({ref:n,modelValue:o.value,"onUpdate:modelValue":x=>o.value=x,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(e.variant)},e.class],style:e.style},h,R,{centerAffix:!P.value,focused:m.value}),{...l,default:x=>{let{id:g,isDisabled:I,isDirty:F,isReadonly:p,isValid:T}=x;return t(ce,z({ref:r,onMousedown:H,onClick:N,"onClick:clear":L,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},J,{id:g.value,active:X.value||F.value,dirty:F.value||e.dirty,disabled:I.value,focused:m.value,error:T.value===!1}),{...l,default:$=>{let{props:{class:w,...A}}=$;const O=W(t("input",z({ref:C,value:o.value,onInput:j,autofocus:e.autofocus,readonly:p.value,disabled:I.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:b,onBlur:s},A,k),null),[[Pe("intersect"),{handler:S},null,{once:!0}]]);return t(D,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[t("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t("div",{class:w,"data-no-activator":""},[l.default?t(D,null,[l.default(),O]):Se(O)]),e.suffix&&t("span",{class:"v-text-field__suffix"},[t("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:_?x=>{var g;return t(D,null,[(g=l.details)==null?void 0:g.call(l,x),a&&t(D,null,[t("span",null,null),t(bt,{active:e.persistentCounter||m.value,value:c.value,max:f.value},l.counter)])])}:void 0})}),re({},n,r,C)}}),fe=e=>(Ee("data-v-f107c713"),e=e(),Ue(),e),Ct={class:"background pa-8 h-screen d-flex flex-column justify-center align-center"},kt=fe(()=>se("div",{class:"text-subtitle-1 text-medium-emphasis"}," Почта ",-1)),It=fe(()=>se("div",{class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"}," Пароль ",-1)),Ft={__name:"LoginView",setup(e){const u=Le(),i=Re(),v=y(!1),l=Ne(),o=y(""),m=y(""),d=y(""),s=y(!1),c=y(!1),f=async(S,n)=>{d.value==="register"?await l.registerUser(S,n):d.value==="login"&&await l.loginUser(S,n),l.isLoggedIn.value?u.push("/jobs"):s.value=!0},P=async()=>{await l.loginWithGoogle(),l.isLoggedIn.value?u.push("/jobs"):s.value=!0};return Te(()=>{l.logoutUser(),console.log(l.isLoggedIn.value),d.value=i.query.type,c.value=!0}),(S,n)=>($e(),Ae("div",Ct,[t(je),t(at,null,{default:B(()=>[W(t(gt,{onSubmit:n[5]||(n[5]=De(r=>f(o.value,m.value),["prevent"]))},{default:B(()=>[t(ft,{class:"mx-auto pa-8 mt-8 w-100",elevation:"8","min-width":"323","max-width":"600",rounded:"lg"},{default:B(()=>[kt,t(oe,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=r=>o.value=r),density:"compact",placeholder:"Введите почту","prepend-inner-icon":"mdi-email-outline",variant:"outlined",required:""},null,8,["modelValue"]),It,t(oe,{modelValue:m.value,"onUpdate:modelValue":n[1]||(n[1]=r=>m.value=r),"append-inner-icon":v.value?"mdi-eye-off":"mdi-eye",type:v.value?"text":"password",density:"compact",placeholder:"Введите пароль","prepend-inner-icon":"mdi-lock-outline",variant:"outlined",required:"","onClick:appendInner":n[2]||(n[2]=r=>v.value=!v.value)},null,8,["modelValue","append-inner-icon","type"]),t(Z,{block:"",type:"submit",class:"mb-2",size:"large",variant:"tonal"},{default:B(()=>[Y(ae(d.value==="register"?"Зарегистрироваться":"Войти"),1)]),_:1}),t(Z,{block:"",class:"mb-2",variant:"tonal",onClick:P},{default:B(()=>[Y(" Войти через Google ")]),_:1}),t(vt,{class:"text-center"},{default:B(()=>[t(Z,{class:"text-decoration-none",variant:"text",size:"small",onClick:n[3]||(n[3]=r=>d.value==="register "?d.value="register":d.value="login")},{default:B(()=>[Y(ae(d.value!=="register"?"Зарегистрироваться":"Войти")+" ",1),t(it,{icon:"mdi-chevron-right"})]),_:1})]),_:1})]),_:1}),t(Ge,{color:"red",modelValue:s.value,"onUpdate:modelValue":n[4]||(n[4]=r=>s.value=r),message:Me(l).errorMsg.value},null,8,["modelValue","message"])]),_:1},512),[[ee,c.value]])]),_:1})]))}},Mt=Be(Ft,[["__scopeId","data-v-f107c713"]]);export{Mt as default};
